{{!--
  file: ./templates/partials/footer.hbs
  Pattern 4: Footer
  
  Description:
  Standardized site footer refactored for metadata-driven branding.
  Configuration Source: site_config.json → branding, footer, contact
--}}

<footer class="footer" role="contentinfo">
  
  {{!-- Logo (Standard Color Version) --}}
  {{#if site.footer.showLogo}}
    <div class="footer-logo">
      {{#if site.branding.logo.standard_logo}}
        <img src="{{site.branding.logo.standard_logo}}" 
             alt="{{site.branding.siteName}} Color Logo" 
             style="max-width: {{math site.footer.logoScale "*" 100}}%; height: auto;"
             loading="lazy">
      {{/if}}
    </div>
  {{/if}}
  
  {{!-- Primary Footer Links (Populated from Menu Metadata) --}}
  {{#if footerLinks}}
    <div class="footer-links" id="footer-nav-links">
      {{#each footerLinks}}
        <a href="{{href}}" 
           class="footer-link {{#if secondary}}secondary{{/if}}"
           data-nav-id="{{id}}">
          {{label}}
        </a>
      {{/each}}
    </div>
  {{/if}}
  
  {{!-- Social Media Icons (Optional) --}}
  {{#if site.footer.socialMedia.enabled}}
    <div class="footer-social">
      {{#each site.footer.socialMedia.links}}
        <a href="{{url}}" 
           class="footer-social-link"
           target="_blank"
           rel="noopener noreferrer"
           aria-label="{{label}}">
          {{#if icon}}
            <img src="{{mediaPath icon}}" 
                 alt="{{label}}" 
                 class="social-icon"
                 width="32" 
                 height="32"
                 loading="lazy">
          {{else}}
            <span>{{platform}}</span>
          {{/if}}
        </a>
      {{/each}}
    </div>
  {{/if}}
  
  {{!-- Copyright & Contact Info --}}
  <div class="footer-copy" id="footer-copy-content">
    <p class="copyright">
      © {{site.footer.copyrightYear}} {{site.contact.companyName}}. All Rights Reserved.
    </p>
    
    {{#if site.footer.showAddress}}
      <p class="contact-address">
        {{site.contact.address}}
      </p>
    {{/if}}
    
    {{#if site.footer.showPhone}}
      <p class="contact-phone">
        <a href="tel:{{site.contact.phone}}" class="phone-link">
          {{site.contact.phone}}
        </a>
      </p>
    {{/if}}
  </div>
  
</footer>
